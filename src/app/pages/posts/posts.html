<div class="posts-page ">

    <div class="flex flex-col mt-10">
        <form [formGroup]="postsForm" class=" flex flex-wrap gap-3 items-center px-8 mb-10
        w-full md:w-auto md:max-w-4xl mx-auto">


            <div class=" flex flex-col gap-2 w-full sm:w-auto">
                <label>Search post</label>

                <input type="text" formControlName="searchText" placeholder="Title or body"
                    class="w-full px-4 py-2 border border-gray-300 rounded-lg outline-0" />
            </div>


            <div class="flex flex-col gap-2 w-full sm:w-auto">
                <label>Posts per page</label>

                <select formControlName="forPage" class="w-full px-4 py-2 border border-gray-300 rounded-lg outline-0">
                    <option [value]="5">5</option>
                    <option [value]="10">10</option>
                    <option [value]="25">25</option>
                    <option [value]="50">50</option>
                </select>
            </div>





            <app-button class=" mt-5" label="Add Post" icon="note-add" (btnClick)="addPost()">
            </app-button>


        </form>

        @if (isLoading) {
        <div class="flex justify-center mt-30">
            <mat-progress-spinner mode="indeterminate" diameter="40"></mat-progress-spinner>
        </div>
        } @else {
        <div class="flex flex-col items-stretch md:items-center mt-14 gap-10 px-5 sm:px-0">
            @if(posts.length > 0) {
            @for(post of posts; track post.id) {
            <app-post-item [post]="post"></app-post-item>
            }
            } @else {
            <p class="text-center text-gray-500 mt-10 ">No Posts published</p>
            }
        </div>
        }
    </div>


</div>